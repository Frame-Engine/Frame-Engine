/*Copyright (C) 2013 Dourthe Aymeric    This program is free software: you can redistribute it and/or modify    it under the terms of the GNU General Public License as published by    the Free Software Foundation, either version 3 of the License, or    (at your option) any later version.    This program is distributed in the hope that it will be useful,    but WITHOUT ANY WARRANTY; without even the implied warranty of    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the    GNU General Public License for more details.    You should have received a copy of the GNU General Public License    along with this program.  If not, see [http://www.gnu.org/licenses/].	Class: TextElement	extends BaseElement*/var TextElement = BaseElement.extend({		/*		Constructor: TextElement		Parameters:		x - x position		y - y position		lText - text to display (accept <br /> as linebreak)		c - color 	*/	constructor : function (x, y, lText, c){		this.base(x,y);		this.instanceName = "TextElement";		this.fontSize = 12;		this.curentText = [];		this.curentText = lText.split("<br />");		this.c = c;		this.ready = false;	},		/*		Function: isReady	*/	isReady : function(){		if (this.ready)return true;		this.height = this.fontSize;		this.width = textWidth(this.curentText);		this.ready = true;		return true;	},	/*		Function: draw		Parameters:		ec - context where to draw	*/	draw : function(ec){		if (!this.visible || !this.isReady()) return;		fill(this.c.r, this.c.g, this.c.b, this.c.a);		textSize(this.fontSize);		for (var i = 0; i < this.curentText.length; i++)			text(this.curentText[i],this.x,this.y + i * (this.fontSize + this.fontSize * 0.5));	},	/*		Function: setTextSize		Parameters:		size - text size	*/	setTextSize : function(size){		this.fontSize = size;	},		/*		Function: setText		Parameters:		text - text to display  (accept <br /> as linebreak)	*/	setText : function(lText){		this.curentText = lText.split("<br />");	}});